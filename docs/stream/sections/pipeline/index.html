<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Pipeline
  #


Stream computations are specified as a pipeline, which consists of:

a source (e.g. a collection or an I/O channel),
a sequence of zero or more intermediate operations, each of which transforms a stream into another stream (e.g. filtering or modifying the stream&rsquo;s elements),
one terminal operation (e.g. collecting the elements of the transformed stream).



Intermediate operations are generally specified via callback methods (the terminal operation may as well).
More precisely, the Java interface Stream provides instance methods (like filter or map) that take a callback method as argument, and transform the stream accordingly.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://unibz-pp-24-25.github.io/docs/stream/sections/pipeline/">
  <meta property="og:site_name" content="Programming project 2024-25">
  <meta property="og:title" content="Pipeline">
  <meta property="og:description" content="Pipeline # Stream computations are specified as a pipeline, which consists of:
a source (e.g. a collection or an I/O channel), a sequence of zero or more intermediate operations, each of which transforms a stream into another stream (e.g. filtering or modifying the streamâ€™s elements), one terminal operation (e.g. collecting the elements of the transformed stream). Intermediate operations are generally specified via callback methods (the terminal operation may as well). More precisely, the Java interface Stream provides instance methods (like filter or map) that take a callback method as argument, and transform the stream accordingly.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
<title>Pipeline | Programming project 2024-25</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="https://unibz-pp-24-25.github.io/docs/stream/sections/pipeline/">
<link rel="stylesheet" href="/book.min.434035e7885c7f5d12818bd9f111cf1a0925c6fb78382667381c3d5eda3fb4f1.css" integrity="sha256-Q0A154hcf10SgYvZ8RHPGgklxvt4OCZnOBw9Xto/tPE=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.9f6b34498e8c3717e40c11da90fb6fa28e30fc79e616c736af7feb402e474720.js" integrity="sha256-n2s0SY6MNxfkDBHakPtvoo4w/HnmFsc2r3/rQC5HRyA=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
  integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0"
  crossorigin="anonymous"
/>


<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
  integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4"
  crossorigin="anonymous"
></script>


<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
  integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
  crossorigin="anonymous"
  onload="renderMathInElement(document.body);"
></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
      ],
    });
  });
</script>

</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Programming project 2024-25</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>















  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-85f15178f01450fce91df9efce108685" class="toggle"  />
    <label for="section-85f15178f01450fce91df9efce108685" class="flex justify-between">
      <a href="/docs/intro/" class="">This course</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/schedule/" class="">Schedule</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/lecturers/" class="">Teaching staff</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/evaluation/" class="">Evaluation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/content/" class="">Content</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/board_game/" class="">Board game</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/bibliography/" class="">Additional resources</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/quiz/" class="">Quiz</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ba33d8a9bf780b57832f569fe09e5c26" class="toggle"  />
    <label for="section-ba33d8a9bf780b57832f569fe09e5c26" class="flex justify-between">
      <a href="/docs/project/" class="">Project</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/project/sections/free_project/" class="">Option 1: free project</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/project/sections/board_game/" class="">Option 2: board game</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-29012f2cba9206afc50d2993e3920e12" class="toggle"  />
    <label for="section-29012f2cba9206afc50d2993e3920e12" class="flex justify-between">
      <a href="/docs/objects/" class="">Objects and classes</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/objects/" class="">Objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/classes/" class="">Class and instance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/inheritance/" class="">Inheritance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/methods/" class="">Instance methods</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/tostring/" class="">Displaying objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/comparing/" class="">Cast and equality</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/classesasobjects/" class="">Classes as objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/quasi-objects/" class="">Quasi-objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/clone/" class="">Duplicating objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/encapsulation/" class="">Encapsulation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/mutability/" class="">Mutability</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5933d7510d07450e8c15a6a0ebd380b0" class="toggle"  />
    <label for="section-5933d7510d07450e8c15a6a0ebd380b0" class="flex justify-between">
      <a href="/docs/interfaces/" class="">Interfaces</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/interfaces/sections/specification/" class="">Specification and programming interface</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/interfaces/sections/java_interfaces/" class="">Java interfaces</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6bfaa2b89c0853780e84ab9c868d56bd" class="toggle"  />
    <label for="section-6bfaa2b89c0853780e84ab9c868d56bd" class="flex justify-between">
      <a href="/docs/abstractdatatypes/" class="">Abstract data types</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/list/" class="">List</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/set/" class="">Set</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/map/" class="">Associative array</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/queue/" class="">Stack, queue, priority queue</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/sorting/" class="">Sorting</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-50027a2c524e8f72a4c6b2a6d8cec98e" class="toggle"  />
    <label for="section-50027a2c524e8f72a4c6b2a6d8cec98e" class="flex justify-between">
      <a href="/docs/errors/" class="">Errors</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/errors/sections/callstack/" class="">Call stack</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/errors/sections/exceptions/" class="">Exceptions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/errors/sections/checked/" class="">Runtime vs checked exceptions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/errors/sections/custom/" class="">Custom exceptions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/errors/sections/errors/" class="">Java errors</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-fb154713c839715a5585b2a7913c99b5" class="toggle"  />
    <label for="section-fb154713c839715a5585b2a7913c99b5" class="flex justify-between">
      <a href="/docs/recursion/" class="">Recursion</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/recursion/sections/linear/" class="">Linear recursion</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/recursion/sections/nary/" class="">N-ary recursion</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/recursion/sections/correctness/" class="">Correctness</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-dc278ca0f2b5fde4dfe6c2fa75ea1c98" class="toggle"  />
    <label for="section-dc278ca0f2b5fde4dfe6c2fa75ea1c98" class="flex justify-between">
      <a href="/docs/input/" class="">I/O and serialization</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/input/sections/files/" class="">Paths and files in Java</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/input/sections/read/" class="">Reading from and writing to a file in Java</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/input/sections/property/" class="">Configuration files</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/input/sections/serialize/" class="">Serialization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/input/sections/json/" class="">JSON Serialization</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-35cd663b1751527caf51f3abaa1d3f77" class="toggle"  />
    <label for="section-35cd663b1751527caf51f3abaa1d3f77" class="flex justify-between">
      <a href="/docs/lambda/" class="">First-class methods</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/functional/" class="">Functional programming</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/pure/" class="">Pure function</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/anonymous/" class="">Anonymous method</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/lambda/" class="">Lambda expression</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/type/" class="">Type of a method</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/callback/" class="">Callback method</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/closure/" class="">Free variable and closure</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/currying/" class="">Currying</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-3f93e1aa0bccac696ec9af373a353010" class="toggle" checked />
    <label for="section-3f93e1aa0bccac696ec9af373a353010" class="flex justify-between">
      <a href="/docs/stream/" class="">Streams in Java</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/stream/sections/pipeline/" class="active">Pipeline</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/stream/sections/init/" class="">Source</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/stream/sections/intermediate/" class="">Intermediate operations</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/stream/sections/terminal/" class="">Terminal operation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/stream/sections/numeric/" class="">Numeric stream</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/stream/sections/order/" class="">Multithreading and order</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/stream/sections/optional/" class="">Optional</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0c3cfe6ac985c7980a60c7f9b6c91241" class="toggle"  />
    <label for="section-0c3cfe6ac985c7980a60c7f9b6c91241" class="flex justify-between">
      <a href="/docs/generics/" class="">Generic programming</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/generics/sections/generics/" class="">Generics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/generics/sections/subtype/" class="">Subtype</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/generics/sections/variance/" class="">Variance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/generics/sections/erasure/" class="">Type erasure</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-dec6c566dc70f820bab9ec7ff47ae94b" class="toggle"  />
    <label for="section-dec6c566dc70f820bab9ec7ff47ae94b" class="flex justify-between">
      <a href="/docs/unittests/" class="">Unit tests</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/unittests/sections/structured/" class="">Code units</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/unittests/sections/tdd/" class="">Development driven by unit tests</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/unittests/sections/junit/" class="">in Java</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-84599da0227dcb54f4402978878c76ee" class="toggle"  />
    <label for="section-84599da0227dcb54f4402978878c76ee" class="flex justify-between">
      <a href="/docs/simplify/" class="">Simplifying code</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/simplify/sections/factorization/" class="">Factorizing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/simplify/sections/break/" class="">Break statements and flags</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/simplify/sections/boolean/" class="">Boolean conditions</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a9c9fe6c549336d0426f7d22637c8205" class="toggle"  />
    <label for="section-a9c9fe6c549336d0426f7d22637c8205" class="flex justify-between">
      <a href="/docs/env/" class="">Development environment</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/files/" class="">Hierarchical file system</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/backup/" class="">Backup</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/install/" class="">Software management</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/os/" class="">Operating system</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/requirements/" class="">Requirements for this course</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/text_editor/" class="">Text editor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/ide/" class="">IDE</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/eval/" class="">Evaluation environment</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/terminal/" class="">Terminal</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f1c5296cc17be274316dd1d777e04506" class="toggle"  />
    <label for="section-f1c5296cc17be274316dd1d777e04506" class="flex justify-between">
      <a href="/docs/git/" class="">Git</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/basics/" class="">Basics: repository, commits and branches</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/collaboration/" class="">Basics: network and collaboration</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/config/" class="">Configuration</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/create/" class="">Create or clone a repository</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/navigate/" class="">Navigation, status and history: status, log, checkout, diff, show</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/commit/" class="">Add, commit, stash</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/branches/" class="">Branches</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/sharing/" class="">Synchronization: remote, push, pull</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/backtracking/" class="">Backtracking</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/resources/" class="">To go further</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/ignore/" class="">Ignore</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f207d34fa930b6f6e13e4f97a94bc96f" class="toggle"  />
    <label for="section-f207d34fa930b6f6e13e4f97a94bc96f" class="flex justify-between">
      <a href="/docs/build/" class="">Build automation</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/build/sections/packaging/" class="">Packaging a Java application</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/build/sections/layout/" class="">Layout</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/build/sections/pom/" class="">Configuration file</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/build/sections/artifact/" class="">Artifact</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/build/sections/dependencies/" class="">Dependencies</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/build/sections/building/" class="">Building</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6afd72ae37923560357201746de85ea9" class="toggle"  />
    <label for="section-6afd72ae37923560357201746de85ea9" class="flex justify-between">
      <a href="/docs/background/" class="">Background</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/background/sections/problem/" class="">Computational problem</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/background/sections/set_tuple_map/" class="">Set, tuple, function</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/background/sections/order/" class="">Relation, preorder</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>














</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Pipeline</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#example">Example</a></li>
    <li><a href="#explanation">Explanation</a>
      <ul>
        <li><a href="#source">Source</a></li>
        <li><a href="#intermediate-operations">Intermediate operations</a></li>
        <li><a href="#terminal-operation">Terminal operation</a></li>
      </ul>
    </li>
    <li><a href="#reading-a-pipeline">Reading a pipeline</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="pipeline">
  Pipeline
  <a class="anchor" href="#pipeline">#</a>
</h1>
<blockquote class="book-hint warning">
<p>Stream computations are specified as a <strong>pipeline</strong>, which consists of:</p>
<ol>
<li>a <strong>source</strong> (e.g. a collection or an I/O channel),</li>
<li>a sequence of zero or more <strong>intermediate operations</strong>, each of which transforms a stream into another stream (e.g. filtering or modifying the stream&rsquo;s elements),</li>
<li><em>one</em> <strong>terminal operation</strong> (e.g. collecting the elements of the transformed stream).</li>
</ol>
</blockquote>
<p><img src="/img/stream/streams_explained.jpg" alt="" /></p>
<p>Intermediate operations are generally specified via <a href="https://unibz-pp-24-25.github.io/docs/lambda/sections/callback/">callback methods</a> (the terminal operation may as well).
More precisely, the Java interface <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html">Stream</a> provides instance methods (like <code>filter</code> or <code>map</code>) that take a callback method as argument, and transform the stream accordingly.</p>
<h2 id="example">
  Example
  <a class="anchor" href="#example">#</a>
</h2>
<p>Consider the following classes <code>Unit</code>, <code>Butterfly</code>, <code>Caterpillar</code> and <code>Unicorn</code>.</p>
<p><img src="/img/diagrams/plantuml/interface_inherit_basic.svg" alt="" /></p>
<p>The pipeline below:</p>
<ul>
<li>creates a stream out of a list of units,</li>
<li>retains only butterflies,</li>
<li>extracts the color of each butterfly,</li>
<li>collects these colors as a set.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> units <span style="color:#f92672">=</span> getUnits();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Set<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> butterflyColors <span style="color:#f92672">=</span> units.<span style="color:#a6e22e">stream</span>()                        <span style="color:#75715e">// create a stream</span>
</span></span><span style="display:flex;"><span>                              .<span style="color:#a6e22e">filter</span>(u <span style="color:#f92672">-&gt;</span> u <span style="color:#66d9ef">instanceof</span> Butterfly)  <span style="color:#75715e">// retain butterflies</span>
</span></span><span style="display:flex;"><span>                              .<span style="color:#a6e22e">map</span>(b <span style="color:#f92672">-&gt;</span> b.<span style="color:#a6e22e">color</span>)                    <span style="color:#75715e">// map each butterfly to its color</span>
</span></span><span style="display:flex;"><span>                              .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toSet</span>());         <span style="color:#75715e">// collect the colors as a set</span>
</span></span></code></pre></div><h2 id="explanation">
  Explanation
  <a class="anchor" href="#explanation">#</a>
</h2>
<p>This pipeline can be decomposed as follows:</p>
<h3 id="source">
  Source
  <a class="anchor" href="#source">#</a>
</h3>
<p>The instance method <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#stream%28%29">Collection.stream</a> generates a stream out of a collection (e.g. out of a <code>List</code> or a <code>Set</code>):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>units.<span style="color:#a6e22e">stream</span>()
</span></span></code></pre></div><p>In this example, because <code>units</code> has type <code>List&lt;Unit&gt;</code>, the stream that is returned by <code>units.stream()</code> has type <code>Stream&lt;Unit&gt;</code>.</p>
<h3 id="intermediate-operations">
  Intermediate operations
  <a class="anchor" href="#intermediate-operations">#</a>
</h3>
<h4 id="filter">
  Filter
  <a class="anchor" href="#filter">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>.<span style="color:#a6e22e">filter</span>(u <span style="color:#f92672">-&gt;</span> u <span style="color:#66d9ef">instanceof</span> Butterfly)
</span></span></code></pre></div><p>The instance method <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter%28java.util.function.Predicate%29">Stream.filter</a> retains certain elements of the stream.</p>
<p>Let us assume that the stream has type <code>Stream&lt;</code>$\mathit{T}$<code>&gt;</code> (for instance, in our example, $\mathit{T}$ is <code>Unit</code>).</p>
<p>The method <code>filter</code> takes as argument a callback function of type</p>
<p>$\qquad \mathit{T} \to$ <code>Boolean</code></p>
<p>(equivalently, in Java&rsquo;s terminology, the callback function must implement the native <a href="https://unibz-pp-24-25.github.io/docs/lambda/sections/type/#functionalInterface">functional interface</a> <code>Predicate&lt;</code>$\mathit{T}$<code>&gt;</code>).</p>
<p>In this example, the callback function is</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>u <span style="color:#f92672">-&gt;</span> u <span style="color:#66d9ef">instanceof</span> Butterfly
</span></span></code></pre></div><p>which has type</p>
<p>$\qquad$ <code>Unit</code> $\to$ <code>Boolean</code></p>
<p>The method <code>filter</code> returns a <code>Stream&lt;</code>$\mathit{T}$<code>&gt;</code> (e.g. in this example a <code>Stream&lt;Unit&gt;</code>) that consists of the elements for which the callback method evaluates to <code>true</code> (in this case, it retains only butterflies).</p>
<h4 id="map">
  Map
  <a class="anchor" href="#map">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>.<span style="color:#a6e22e">map</span>(b <span style="color:#f92672">-&gt;</span> b.<span style="color:#a6e22e">color</span>)
</span></span></code></pre></div><p>The instance method <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map%28java.util.function.Function%29">Stream.map</a> applies a function to each element of the stream.</p>
<p>Let us assume that the stream has type <code>Stream&lt;</code>$\mathit{T}$<code>&gt;</code> (for instance, in our example, $\mathit{T}$ is <code>Unit</code>).</p>
<p>The method <code>map</code> takes as argument a callback function of type</p>
<p>$\qquad T \to T'$</p>
<p>where $T&rsquo;$ can be any type (equivalently, in Java&rsquo;s terminology, the callback function must implement the native functional interface <code>Function&lt;</code>$T$<code>,</code>$T&rsquo;$<code>&gt;</code>, <a href="https://unibz-pp-24-25.github.io/docs/lambda/sections/type/#function">seen earlier</a>).</p>
<p>In this example, the callback function is</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>b <span style="color:#f92672">-&gt;</span> b.<span style="color:#a6e22e">color</span>
</span></span></code></pre></div><p>which has type</p>
<p>$\qquad$ <code>Unit</code> $\to$ <code>String</code></p>
<p>Let us name this callback function $f$.</p>
<p>The method <code>map</code> returns a <code>Stream&lt;</code>$\mathit{T&rsquo;}$<code>&gt;</code> (e.g. in this example a <code>Stream&lt;String&gt;</code>) that consists of all objects $f(a)$ such that $a$ belongs to the original stream.</p>
<h3 id="terminal-operation">
  Terminal operation
  <a class="anchor" href="#terminal-operation">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>.<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toSet</span>());
</span></span></code></pre></div><p>The instance method <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect%28java.util.stream.Collector%29">Stream.collect</a> takes as argument a so-called <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html">Collector</a>, which is in charge of collecting the elements of the stream into a <a href="https://unibz-pp-24-25.github.io/docs/abstractdatatypes/#collection">Collection</a> (e.g. <code>List</code> or <code>Set</code>), or a <code>Map</code>, a <code>String</code>, etc.</p>
<p>In this example, we call the static method <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toSet%28%29">Collectors.toSet</a>, which returns a collector that produces a set.
Because the stream has type <code>Stream&lt;String&gt;</code>, the instruction <code>.collect(Collectors.toSet())</code> returns a set with type <code>Set&lt;String&gt;</code>.</p>
<h2 id="reading-a-pipeline">
  Reading a pipeline
  <a class="anchor" href="#reading-a-pipeline">#</a>
</h2>
<div class="book-tabs">
<input type="radio" class="toggle" name="tabs-exercise_stream_setIntersection" id="tabs-exercise_stream_setIntersection-0" checked="checked" />
<label for="tabs-exercise_stream_setIntersection-0">Exercise</label>
<div class="book-tabs-content markdown-inner"><p>What do the following methods compute?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Set<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">method1</span>(Set<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> set1, Set<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> set2) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> set1.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(u <span style="color:#f92672">-&gt;</span> set2.<span style="color:#a6e22e">contains</span>(u))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toSet</span>());
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Set<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">method2</span>(Set<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> set1, Set<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> set2) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> set1.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(set2::contains)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toSet</span>());
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
<input type="radio" class="toggle" name="tabs-exercise_stream_setIntersection" id="tabs-exercise_stream_setIntersection-1"  />
<label for="tabs-exercise_stream_setIntersection-1">Solution</label>
<div class="book-tabs-content markdown-inner"><p>Both methods compute the intersection of <code>set1</code> and <code>set2</code>.</p>
</div>
</div>
<div class="book-tabs">
<input type="radio" class="toggle" name="tabs-exercise_stream_units" id="tabs-exercise_stream_units-0" checked="checked" />
<label for="tabs-exercise_stream_units-0">Exercise</label>
<div class="book-tabs-content markdown-inner"><p>What do the methods <code>method1</code> to <code>method4</code> below compute?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Stream<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">method1</span>(List<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> units) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> units.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(u <span style="color:#f92672">-&gt;</span> u.<span style="color:#a6e22e">health</span> <span style="color:#f92672">&gt;</span> 0);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>List<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">method2</span>(Stream<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> stream) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> stream.<span style="color:#a6e22e">map</span>(u <span style="color:#f92672">-&gt;</span> transform(u))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">toList</span>();   <span style="color:#75715e">// collects the stream into a list</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Unit <span style="color:#a6e22e">transform</span>(Unit u) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (u <span style="color:#66d9ef">instanceof</span> Caterpillar) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Butterfly(u.<span style="color:#a6e22e">color</span>, u.<span style="color:#a6e22e">health</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> u;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>List<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">method3</span>(List<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> units) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> method2(method1(units));
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>List<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">method4</span>(List<span style="color:#f92672">&lt;</span>Unit<span style="color:#f92672">&gt;</span> units) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> units.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(u <span style="color:#f92672">-&gt;</span> u.<span style="color:#a6e22e">health</span> <span style="color:#f92672">&gt;</span> 0)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(u <span style="color:#f92672">-&gt;</span> u <span style="color:#66d9ef">instanceof</span> Caterpillar <span style="color:#f92672">?</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">new</span> Butterfly(u.<span style="color:#a6e22e">color</span>, u.<span style="color:#a6e22e">health</span>) :
</span></span><span style="display:flex;"><span>                    u
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">toList</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
<input type="radio" class="toggle" name="tabs-exercise_stream_units" id="tabs-exercise_stream_units-1"  />
<label for="tabs-exercise_stream_units-1">Solution</label>
<div class="book-tabs-content markdown-inner"><ul>
<li><code>method1</code>:
<ul>
<li><strong>Input:</strong> A list of units.</li>
<li><strong>Output:</strong> a stream that contains the same units, but discarding units with no health.</li>
</ul>
</li>
<li><code>method2</code>:
<ul>
<li><strong>Input:</strong> A stream of units.</li>
<li><strong>Output:</strong> A list that contains the same units, but where caterpillars become butterflies.</li>
</ul>
</li>
<li><code>method3</code>:
<ul>
<li><strong>Input:</strong> A list of units.</li>
<li><strong>Output:</strong> A list that contains the same units, but discarding units with no health, and transforming caterpillars into butterflies.</li>
</ul>
</li>
<li><code>method4</code> is equivalent to <code>method3</code>.</li>
</ul>
</div>
</div>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#example">Example</a></li>
    <li><a href="#explanation">Explanation</a>
      <ul>
        <li><a href="#source">Source</a></li>
        <li><a href="#intermediate-operations">Intermediate operations</a></li>
        <li><a href="#terminal-operation">Terminal operation</a></li>
      </ul>
    </li>
    <li><a href="#reading-a-pipeline">Reading a pipeline</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












