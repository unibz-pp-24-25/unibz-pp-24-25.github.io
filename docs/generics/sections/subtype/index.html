<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Subtype
  #

As we saw in the previous sections, the purpose of generic programming is to write abstract code while enforcing type constraints.
As a result, when we write a program that uses a generic type (e.g. a native Java Collection),
we need to make sure that our code complies with these type constraints.
In some situations, this requires reasoning about types and their hierarchy (notably for programs that use callback methods).">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/docs/generics/sections/subtype/">
  <meta property="og:site_name" content="Programming project 2024-25">
  <meta property="og:title" content="Subtype">
  <meta property="og:description" content="Subtype # As we saw in the previous sections, the purpose of generic programming is to write abstract code while enforcing type constraints. As a result, when we write a program that uses a generic type (e.g. a native Java Collection), we need to make sure that our code complies with these type constraints.
In some situations, this requires reasoning about types and their hierarchy (notably for programs that use callback methods).">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
<title>Subtype | Programming project 2024-25</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="http://localhost:1313/docs/generics/sections/subtype/">
<link rel="stylesheet" href="/book.min.434035e7885c7f5d12818bd9f111cf1a0925c6fb78382667381c3d5eda3fb4f1.css" integrity="sha256-Q0A154hcf10SgYvZ8RHPGgklxvt4OCZnOBw9Xto/tPE=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.09c392c32e55b186a068f66dad9472ef6aa51d766cb980a61853ee973e1ea87e.js" integrity="sha256-CcOSwy5VsYagaPZtrZRy72qlHXZsuYCmGFPulz4eqH4=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Programming project 2024-25</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>















  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-85f15178f01450fce91df9efce108685" class="toggle"  />
    <label for="section-85f15178f01450fce91df9efce108685" class="flex justify-between">
      <a href="/docs/intro/" class="">This course</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/schedule/" class="">Schedule</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/lecturers/" class="">Teaching staff</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/evaluation/" class="">Evaluation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/content/" class="">Content</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/board_game/" class="">Board game</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/bibliography/" class="">Additional resources</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-29012f2cba9206afc50d2993e3920e12" class="toggle"  />
    <label for="section-29012f2cba9206afc50d2993e3920e12" class="flex justify-between">
      <a href="/docs/objects/" class="">Objects and classes</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/objects/" class="">Objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/classes/" class="">Class and instance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/inheritance/" class="">Inheritance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/methods/" class="">Instance methods</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/tostring/" class="">Displaying objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/comparing/" class="">Cast and equality</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/classesasobjects/" class="">Classes as objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/clone/" class="">Duplicating objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/quasi-objects/" class="">Quasi-objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/encapsulation/" class="">Encapsulation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/mutability/" class="">Mutability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/quiz/" class="">Quiz</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>














</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Subtype</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#subtype">The subtype relation</a></li>
    <li><a href="#function-type">Function type</a>
      <ul>
        <li><a href="#examples">Examples</a></li>
      </ul>
    </li>
    <li><a href="#functionSubtype">Function subtyping</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="subtype">
  Subtype
  <a class="anchor" href="#subtype">#</a>
</h1>
<p>As we saw in the previous sections, the purpose of generic programming is to write abstract code while enforcing type constraints.
As a result, when we write a program that <em>uses</em> a generic type (e.g. a native Java <code>Collection</code>),
we need to make sure that our code complies with these type constraints.</p>
<p>In some situations, this requires <em>reasoning</em> about types and their hierarchy (notably for programs that use <a href="http://localhost:1313/docs/lambda/sections/callback/">callback methods</a>).</p>
<p>In this section, we briefly illustrate how the notion of a subtype extends to functions (and more generally, methods).
This will allow us to understand (in the <a href="http://localhost:1313/docs/generics/sections/variance/">dedicated section</a>) some type constraints expressed via generics in languages like Java or C#.</p>
<h2 id="subtype">
  The subtype relation
  <a class="anchor" href="#subtype">#</a>
</h2>
<blockquote class="book-hint warning">
<p>Intuitively, $A$ is a <strong>subtype</strong> of $B$ if &ldquo;every $A$ is a $B$&rdquo;.</p>
</blockquote>
<blockquote class="book-hint info">
<p><strong><em>Examples.</em></strong></p>
<ul>
<li><code>Integer</code> is a subtype of <code>Number</code>,</li>
<li><code>String</code> is a subtype of <code>Object</code>.</li>
</ul>
</blockquote>
<p>In object-oriented programming, subtyping generalizes hierarchical relations between classes, interfaces, etc.</p>
<blockquote class="book-hint info">
<p><strong><em>Example.</em></strong>
In Java, $A$ is a subtype of $B$ if:</p>
<ul>
<li>$A$ and $B$ are classes and $A$ <code>extends</code> $B$ (directly or transitively), or</li>
<li>$A$ and $B$ are interfaces and $A$ <code>extends</code> $B$ (directly or transitively), or</li>
<li>$A$ is a class, $B$ is an interface and $A$ <code>implements</code> $B$ (directly or transitively), or</li>
<li>etc.</li>
</ul>
</blockquote>
<blockquote class="book-hint warning">
<p><strong><em>Observation.</em></strong>
&ldquo;Subtype&rdquo; is a <a href="http://localhost:1313/docs/background/sections/order/#binaryRelation">binary relation</a>.
This relation is both:</p>
<ul>
<li>
<p><a href="http://localhost:1313/docs/background/sections/order/#reflexiveTransitiveAntisymmetric">reflexive</a>:
every type $A$ is a subtype of itself,</p>
</li>
<li>
<p><a href="http://localhost:1313/docs/background/sections/order/#reflexiveTransitiveAntisymmetric">transitive</a>:
if $A$ is a subtype of $B$ and $B$ is a subtype of $C$, then $A$ is a subtype of $C$.</p>
</li>
</ul>
</blockquote>
<blockquote class="book-hint warning">
<p><strong><em>Observation.</em></strong>
If an object $o$ has type $A$ and $A$ is a subtype of $B$, then $o$ also has type $B$.</p>
</blockquote>
<blockquote class="book-hint info">
<p><strong><em>Examples.</em></strong>
In Java:</p>
<ul>
<li>if an object has type <code>Integer</code>, then it also has type <code>Number</code>,</li>
<li>if an object has type <code>String</code>, then it also has type <code>Object</code>.</li>
</ul>
</blockquote>
<blockquote>
<p><strong><em>Question.</em></strong> How do these observations generalize to <em>functions</em> (or methods) and the type of their arguments and return value?</p></blockquote>
<h2 id="function-type">
  Function type
  <a class="anchor" href="#function-type">#</a>
</h2>
<blockquote class="book-hint warning">
<p><strong><em>Definition.</em></strong>
A function has type</p>
<p>$\qquad X \to Y$</p>
<p>if it maps <em>every</em> element of $X$ to <em>some</em> element of $Y$.</p>
</blockquote>
<h3 id="examples">
  Examples
  <a class="anchor" href="#examples">#</a>
</h3>
<blockquote class="book-hint info">
<p><strong><em>Glossary (reminder).</em></strong></p>
<ul>
<li>$\mathbb{R}$ : real numbers</li>
<li>$\mathbb{Z}$ : integers</li>
<li>$\mathbb{N}$ : natural numbers (a.k.a. positive integers, including <code>0</code>)</li>
</ul>
</blockquote>
<blockquote class="book-hint info">
<p><strong><em>Example.</em></strong>
Consider a function <code>getLength</code> that:</p>
<ul>
<li>takes as argument a string, and</li>
<li>returns the length of this string.</li>
</ul>
<p>This function has type</p>
<p>$\qquad$ <code>String</code> $\to \mathbb{N}$</p>
<p>because it maps every string to a natural number.</p>
<p>It also has type</p>
<p>$\qquad$ <code>String</code> $\to \mathbb{Z}$</p>
<p>because it maps every string to an integer (since natural numbers are integers).</p>
<p>For the same reason, it also has type</p>
<p>$\qquad$ <code>String</code> $\to \mathbb{R}$</p>
<p>However, it does <em>not</em> have type</p>
<p>$\qquad$ <code>Object</code> $\to \mathbb{N}$</p>
<p>because it does not map <em>every</em> object to an integer (only strings).</p>
</blockquote>
<div class="book-tabs">
<input type="radio" class="toggle" name="tabs-exercise_function_types" id="tabs-exercise_function_types-0" checked="checked" />
<label for="tabs-exercise_function_types-0">Exercise</label>
<div class="book-tabs-content markdown-inner"><p>Consider the function $f(x) = x^2$.</p>
<p>Which of the following types are valid for $f$ ?</p>
<ol>
<li>$\qquad \mathbb{R} \to \mathbb{R}$</li>
<li>$\qquad \mathbb{R} \to \mathbb{Z}$</li>
<li>$\qquad \mathbb{R} \to \mathbb{N}$</li>
<li>$\qquad \mathbb{Z} \to \mathbb{R}$</li>
<li>$\qquad \mathbb{Z} \to \mathbb{Z}$</li>
<li>$\qquad \mathbb{Z} \to \mathbb{N}$</li>
<li>$\qquad \mathbb{N} \to \mathbb{R}$</li>
<li>$\qquad \mathbb{N} \to \mathbb{Z}$</li>
<li>$\qquad \mathbb{N} \to \mathbb{N}$</li>
</ol>
</div>
<input type="radio" class="toggle" name="tabs-exercise_function_types" id="tabs-exercise_function_types-1"  />
<label for="tabs-exercise_function_types-1">Solution</label>
<div class="book-tabs-content markdown-inner"><p>1, 4, 5, 6, 7, 8, 9</p>
</div>
</div>
<h2 id="functionSubtype">
  Function subtyping
  <a class="anchor" href="#functionSubtype">#</a>
</h2>
<div class="book-tabs">
<input type="radio" class="toggle" name="tabs-exercise_function_subtypes" id="tabs-exercise_function_subtypes-0" checked="checked" />
<label for="tabs-exercise_function_subtypes-0">Exercise (continued)</label>
<div class="book-tabs-content markdown-inner"><p>Which of the 8 proposals below are correct?</p>
<p>If a function has type</p>
<p>$\qquad \mathbb{Z} \to \mathbb{Z}$</p>
<p>then it also has type:</p>
<ol>
<li>$\qquad \mathbb{N} \to \mathbb{N}$</li>
<li>$\qquad \mathbb{N} \to \mathbb{Z}$</li>
<li>$\qquad \mathbb{N} \to \mathbb{R}$</li>
<li>$\qquad \mathbb{Z} \to \mathbb{N}$</li>
<li>$\qquad \mathbb{Z} \to \mathbb{R}$</li>
<li>$\qquad \mathbb{R} \to \mathbb{N}$</li>
<li>$\qquad \mathbb{R} \to \mathbb{Z}$</li>
<li>$\qquad \mathbb{R} \to \mathbb{R}$</li>
</ol>
</div>
<input type="radio" class="toggle" name="tabs-exercise_function_subtypes" id="tabs-exercise_function_subtypes-1"  />
<label for="tabs-exercise_function_subtypes-1">Solution</label>
<div class="book-tabs-content markdown-inner"><p>2, 3, 5</p>
</div>
</div>
<p>We can now generalize these observations:</p>
<blockquote class="book-hint warning">
<p><strong><em>Property.</em></strong> If $X_1$ is a subtype of $X_2$ and $Y_1$ is a subtype of $Y_2$, then</p>
<p>$\qquad X_2 \to Y_1$</p>
<p>is a subtype of</p>
<p>$\qquad X_1 \to Y_2$</p>
</blockquote>
<blockquote class="book-hint info">
<p><strong><em>Example.</em></strong>
A function from <code>Unit</code> to <code>Integer</code> is also a function:</p>
<ul>
<li>from <code>Butterfly</code> to <code>Integer</code>,</li>
<li>from <code>Unit</code> to <code>Number</code>, and</li>
<li>from <code>Butterfly</code> to <code>Number</code>.</li>
</ul>
</blockquote>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#subtype">The subtype relation</a></li>
    <li><a href="#function-type">Function type</a>
      <ul>
        <li><a href="#examples">Examples</a></li>
      </ul>
    </li>
    <li><a href="#functionSubtype">Function subtyping</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












