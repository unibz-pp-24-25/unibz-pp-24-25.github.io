<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Hash table
  #

A hash table is a data structure often used to implement an associative array (like a Java Map).


  Associative array
  #


Reminder. An associative array (or map) is a finite set of key-value pairs, where keys are distinct.


Terminology.
A key-value pair in an associative array is also called an entry.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://unibz-pp-24-25.github.io/docs/datastructures/sections/hash/">
  <meta property="og:site_name" content="Programming project 2024-25">
  <meta property="og:title" content="Hash table">
  <meta property="og:description" content="Hash table # A hash table is a data structure often used to implement an associative array (like a Java Map).
Associative array # Reminder. An associative array (or map) is a finite set of key-value pairs, where keys are distinct.
Terminology. A key-value pair in an associative array is also called an entry.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
<title>Hash table | Programming project 2024-25</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="https://unibz-pp-24-25.github.io/docs/datastructures/sections/hash/">
<link rel="stylesheet" href="/book.min.c6f0ab8898a9b8e243f0aacc03c73275192bd36dfd0d01e4417d38cbfcafdc42.css" integrity="sha256-xvCriJipuOJD8KrMA8cydRkr0239DQHkQX04y/yv3EI=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.21890d4f939f9a9b4be3d65b92052c956ce0eb70f85c8b696d23468269cc9f1e.js" integrity="sha256-IYkNT5OfmptL49ZbkgUslWzg63D4XItpbSNGgmnMnx4=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
  integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0"
  crossorigin="anonymous"
/>


<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
  integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4"
  crossorigin="anonymous"
></script>


<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
  integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
  crossorigin="anonymous"
  onload="renderMathInElement(document.body);"
></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
      ],
    });
  });
</script>

</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Programming project 2024-25</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>















  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-fff2bf9187c04a5e6d1dc74689a4f723" class="toggle"  />
    <label for="section-fff2bf9187c04a5e6d1dc74689a4f723" class="flex justify-between">
      <a href="/docs/intro/" class="">This course</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/schedule/" class="">Schedule</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/lecturers/" class="">Teaching staff</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/evaluation/" class="">Evaluation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/content/" class="">Content</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/board_game/" class="">Board game</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/bibliography/" class="">Additional resources</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/quiz/" class="">Quiz</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e8e31524508135cbacf3eb36bd3de4de" class="toggle"  />
    <label for="section-e8e31524508135cbacf3eb36bd3de4de" class="flex justify-between">
      <a href="/docs/project/" class="">Project</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/project/sections/free_project/" class="">Option 1: free project</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/project/sections/board_game/" class="">Option 2: board game</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7438321ddbca95be1dd8dbfcd09adbac" class="toggle"  />
    <label for="section-7438321ddbca95be1dd8dbfcd09adbac" class="flex justify-between">
      <a href="/docs/objects/" class="">Objects and classes</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/objects/" class="">Objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/classes/" class="">Class and instance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/inheritance/" class="">Inheritance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/methods/" class="">Instance methods</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/tostring/" class="">Displaying objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/comparing/" class="">Cast and equality</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/classesasobjects/" class="">Classes as objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/quasi-objects/" class="">Quasi-objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/clone/" class="">Duplicating objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/encapsulation/" class="">Encapsulation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/mutability/" class="">Mutability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/quiz/" class="">Quiz</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-46783f6d4d947feb1e74b8ae8b84e62c" class="toggle"  />
    <label for="section-46783f6d4d947feb1e74b8ae8b84e62c" class="flex justify-between">
      <a href="/docs/interfaces/" class="">Interfaces</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/interfaces/sections/specification/" class="">Specification and programming interface</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/interfaces/sections/java_interfaces/" class="">Java interfaces</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-fd3c98a748899679f43c57ad0dadd057" class="toggle"  />
    <label for="section-fd3c98a748899679f43c57ad0dadd057" class="flex justify-between">
      <a href="/docs/abstractdatatypes/" class="">Abstract data types</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/list/" class="">List</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/set/" class="">Set</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/map/" class="">Associative array</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/queue/" class="">Stack, queue, priority queue</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/sorting/" class="">Sorting</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-13a1b3b4d4d3263820a6a842cded37d7" class="toggle" checked />
    <label for="section-13a1b3b4d4d3263820a6a842cded37d7" class="flex justify-between">
      <a href="/docs/datastructures/" class="">Data structures</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/datastructures/sections/list/" class="">Dynamic array and linked list</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/datastructures/sections/hash/" class="active">Hash table</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/datastructures/sections/tree/" class="">Binary search tree</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2f8944a67ba76cb15a28544a4fd5e656" class="toggle"  />
    <label for="section-2f8944a67ba76cb15a28544a4fd5e656" class="flex justify-between">
      <a href="/docs/errors/" class="">Errors</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/errors/sections/callstack/" class="">Call stack</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/errors/sections/exceptions/" class="">Exceptions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/errors/sections/checked/" class="">Runtime vs checked exceptions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/errors/sections/custom/" class="">Custom exceptions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/errors/sections/errors/" class="">Java errors</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7e1f6d0733bcc6e0f80b8f95ca932797" class="toggle"  />
    <label for="section-7e1f6d0733bcc6e0f80b8f95ca932797" class="flex justify-between">
      <a href="/docs/recursion/" class="">Recursion</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/recursion/sections/linear/" class="">Linear recursion</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/recursion/sections/nary/" class="">N-ary recursion</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/recursion/sections/correctness/" class="">Correctness</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4fc575c4e3ef7965a034163fff2a9e82" class="toggle"  />
    <label for="section-4fc575c4e3ef7965a034163fff2a9e82" class="flex justify-between">
      <a href="/docs/input/" class="">I/O and serialization</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/input/sections/files/" class="">Paths and files in Java</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/input/sections/read/" class="">Reading from and writing to a file in Java</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/input/sections/property/" class="">Configuration files</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/input/sections/serialize/" class="">Serialization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/input/sections/json/" class="">JSON Serialization</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-3f362977e716185a25fd9502e2d8dfe6" class="toggle"  />
    <label for="section-3f362977e716185a25fd9502e2d8dfe6" class="flex justify-between">
      <a href="/docs/lambda/" class="">First-class methods</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/functional/" class="">Functional programming</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/pure/" class="">Pure function</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/anonymous/" class="">Anonymous method</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/lambda/" class="">Lambda expression</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/type/" class="">Type of a method</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/callback/" class="">Callback method</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/closure/" class="">Free variable and closure</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/lambda/sections/currying/" class="">Currying</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-705f35ffe784e9f7827bb21beb5bd7a2" class="toggle"  />
    <label for="section-705f35ffe784e9f7827bb21beb5bd7a2" class="flex justify-between">
      <a href="/docs/stream/" class="">Streams in Java</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/stream/sections/pipeline/" class="">Pipeline</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/stream/sections/init/" class="">Source</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/stream/sections/intermediate/" class="">Intermediate operations</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/stream/sections/terminal/" class="">Terminal operation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/stream/sections/numeric/" class="">Numeric stream</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/stream/sections/order/" class="">Multithreading and order</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/stream/sections/optional/" class="">Optional</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6e281dcf1484d0a745d4822ffe35c53a" class="toggle"  />
    <label for="section-6e281dcf1484d0a745d4822ffe35c53a" class="flex justify-between">
      <a href="/docs/generics/" class="">Generic programming</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/generics/sections/type_checking/" class="">Type checking</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/generics/sections/generics/" class="">Generics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/generics/sections/subtype/" class="">Subtype</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/generics/sections/variance/" class="">Variance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/generics/sections/erasure/" class="">Type erasure</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0c88ad4ee8d2046576dafd1e160b3fdc" class="toggle"  />
    <label for="section-0c88ad4ee8d2046576dafd1e160b3fdc" class="flex justify-between">
      <a href="/docs/multithreading/" class="">Multithreading</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/multithreading/sections/concurrency/" class="">Concurrency</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/multithreading/sections/thread/" class="">Process vs thread</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/multithreading/sections/simple/" class="">A simplified view</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/multithreading/sections/race/" class="">Race condition</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/multithreading/sections/synchronization/" class="">Synchronization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/multithreading/sections/troubleshooting/" class="">Troubleshooting</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/multithreading/sections/abstractions/" class="">Abstractions</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ad1eb1e17dc03ec21c0e29a590c66d26" class="toggle"  />
    <label for="section-ad1eb1e17dc03ec21c0e29a590c66d26" class="flex justify-between">
      <a href="/docs/unittests/" class="">Unit tests</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/unittests/sections/structured/" class="">Code units</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/unittests/sections/tdd/" class="">Development driven by unit tests</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/unittests/sections/junit/" class="">in Java</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-1b2a6ff48bb2b496ef46733d567ab529" class="toggle"  />
    <label for="section-1b2a6ff48bb2b496ef46733d567ab529" class="flex justify-between">
      <a href="/docs/simplify/" class="">Simplifying code</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/simplify/sections/factorization/" class="">Factorizing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/simplify/sections/break/" class="">Break statements and flags</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/simplify/sections/boolean/" class="">Boolean conditions</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-82ffbfd96567d1fe2a8c20380f7f33fe" class="toggle"  />
    <label for="section-82ffbfd96567d1fe2a8c20380f7f33fe" class="flex justify-between">
      <a href="/docs/env/" class="">Development environment</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/files/" class="">Hierarchical file system</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/backup/" class="">Backup</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/install/" class="">Software management</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/os/" class="">Operating system</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/requirements/" class="">Requirements for this course</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/text_editor/" class="">Text editor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/ide/" class="">IDE</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/eval/" class="">Evaluation environment</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/terminal/" class="">Terminal</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-848674aba548f76cb90e763a9466e2f2" class="toggle"  />
    <label for="section-848674aba548f76cb90e763a9466e2f2" class="flex justify-between">
      <a href="/docs/git/" class="">Git</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/basics/" class="">Basics: repository, commits and branches</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/collaboration/" class="">Basics: network and collaboration</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/config/" class="">Configuration</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/create/" class="">Create or clone a repository</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/navigate/" class="">Navigation, status and history: status, log, checkout, diff, show</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/commit/" class="">Add, commit, stash</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/branches/" class="">Branches</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/sharing/" class="">Synchronization: remote, push, pull</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/backtracking/" class="">Backtracking</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/resources/" class="">To go further</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/ignore/" class="">Ignore</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c18ad46c1e3f3eb5ffd5de15035f846c" class="toggle"  />
    <label for="section-c18ad46c1e3f3eb5ffd5de15035f846c" class="flex justify-between">
      <a href="/docs/build/" class="">Build automation</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/build/sections/packaging/" class="">Packaging a Java application</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/build/sections/layout/" class="">Layout</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/build/sections/pom/" class="">Configuration file</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/build/sections/artifact/" class="">Artifact</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/build/sections/dependencies/" class="">Dependencies</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/build/sections/building/" class="">Building</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-145cfef32c31e6bce0d6a140c152a9b6" class="toggle"  />
    <label for="section-145cfef32c31e6bce0d6a140c152a9b6" class="flex justify-between">
      <a href="/docs/background/" class="">Background</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/background/sections/problem/" class="">Computational problem</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/background/sections/set_tuple_map/" class="">Set, tuple, function</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/background/sections/order/" class="">Relation, preorder</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/background/sections/cost/" class="">Computational cost</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>














</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Hash table</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#associative-array">Associative array</a></li>
    <li><a href="#structure">Structure</a>
      <ul>
        <li><a href="#hash-function">Hash function</a></li>
      </ul>
    </li>
    <li><a href="#collision">Collision</a></li>
    <li><a href="#performance">Performance</a>
      <ul>
        <li><a href="#worst-case">Worst case</a></li>
        <li><a href="#load-factor-and-rehashing">Load factor and rehashing</a></li>
        <li><a href="#average-running-time">Average running time</a></li>
      </ul>
    </li>
    <li><a href="#open-indexing">Open indexing</a>
      <ul>
        <li><a href="#performance-1">Performance</a></li>
      </ul>
    </li>
    <li><a href="#in-java">in Java</a>
      <ul>
        <li><a href="#implementation">Implementation</a></li>
        <li><a href="#hashCode"><code>hashCode</code></a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="hash-table">
  Hash table
  <a class="anchor" href="#hash-table">#</a>
</h1>
<p>A hash table is a data structure often used to implement an <a href="https://unibz-pp-24-25.github.io/docs/abstractdatatypes/sections/map/">associative array</a> (like a Java <code>Map</code>).</p>
<!--We will start with this usage, before discussing how is can be used for other scenarios.-->
<h2 id="associative-array">
  Associative array
  <a class="anchor" href="#associative-array">#</a>
</h2>
<blockquote class="book-hint warning">
<p><strong><em>Reminder.</em></strong> An <strong>associative array</strong> (or <strong>map</strong>) is a finite set of key-value pairs, where keys are distinct.</p>
</blockquote>
<blockquote class="book-hint warning">
<p><strong><em>Terminology.</em></strong>
A key-value pair in an associative array is also called an <strong>entry</strong>.</p>
</blockquote>
<blockquote class="book-hint info">
<p><strong><em>Running example.</em></strong>
The following associative array has 5 entries.</p>
<p>$\qquad$
1 $\mapsto$ <code>Alice</code>
$\qquad$
3 $\mapsto$ <code>Bob</code>
$\qquad$
4 $\mapsto$ <code>Carol</code>
$\qquad$
9 $\mapsto$ <code>Dan</code>
$\qquad$
12 $\mapsto$ <code>Eve</code></p>
<p>In this associative array, keys are integers, and values are strings.</p>
</blockquote>
<blockquote class="book-hint warning">
<p><strong><em>Notation.</em></strong>
We will use $K$ for the type of the keys (integers in this example), and $V$ for the type of the values (strings in this example).</p>
</blockquote>
<h2 id="structure">
  Structure
  <a class="anchor" href="#structure">#</a>
</h2>
<blockquote class="book-hint warning">
<p>A hash table is an array $A$, whose entries are called <strong>slots</strong> (or <strong>buckets</strong>).</p>
</blockquote>
<p>Hash tables come in two varieties:</p>
<ul>
<li>chaining hash tables and</li>
<li>hash tables with open indexing.</li>
</ul>
<blockquote class="book-hint warning">
<p>In a <strong>chaining hash table</strong>, each slot is a pointer to a data structure (typically a linked list).
These data structures store the entries (a.k.a. key-value pairs) of the associative array.</p>
</blockquote>
<blockquote class="book-hint info">
<p><strong><em>Example (continued).</em></strong>
The following is a chaining hash table, which stores our associative array.</p>
<p><img src="/img/hashTable/ex/hashTable.svg" alt="" /></p>
<p>The array has 4 slots, each of which points to a (possibly empty) linked list.</p>
</blockquote>
<blockquote class="book-hint warning">
<p>In a hash table with <strong>open indexing</strong>, each slot stores one entry of the associative array.</p>
</blockquote>
<p>We will discuss open indexing later in this section (and focus for now on chaining hash tables).</p>
<h3 id="hash-function">
  Hash function
  <a class="anchor" href="#hash-function">#</a>
</h3>
<p>In a hash table, a so-called hash function determines which slot each entry is assigned to.</p>
<blockquote class="book-hint warning">
<p><strong><em>Definition.</em></strong>
A <strong>hash function</strong> maps each key in $K$ to an index in $A$.</p>
</blockquote>
<blockquote class="book-hint info">
<p><strong><em>Example (continued).</em></strong>
In the above example, we used</p>
<p>$\qquad h(k) = k \mod 4$</p>
<p>as our hash function.</p>
<p>For instance,</p>
<p>$\qquad h(9) = 9 \mod 4 = 1$</p>
<p>which explains why the entry</p>
<p>$\qquad$ $9 \mapsto$ <code>Dan</code></p>
<p>is assigned to slot $1$.</p>
</blockquote>
<h2 id="collision">
  Collision
  <a class="anchor" href="#collision">#</a>
</h2>
<p>The size of the set $K$ of <em>possible</em> keys is often (much) larger than the size of the hash table $A$.</p>
<blockquote class="book-hint info">
<p><strong><em>Example (continued).</em></strong>
In our example, $K$ is the set of integers.
In Java, this set has size $2^{32}$ (i.e. more than 4 billion), which is unrealistic for the size of $A$.</p>
</blockquote>
<p>As a consequence, hashing functions are usually not <a href="https://unibz-pp-24-25.github.io/docs/background/sections/set_tuple_map/#function">injective</a>.</p>
<blockquote class="book-hint warning">
<p><strong><em>Terminology.</em></strong>
A <strong>collision</strong> occurs when two entries of an associative array are assigned to the same slot.</p>
<p>In other words, a collision occurs if the associative array contains two entries ${k_1 \mapsto v_1}$ and ${k_2 \mapsto v_1}$ such that $h(k_1) = h(k_2)$.</p>
</blockquote>
<blockquote class="book-hint info">
<p><strong><em>Example (continued).</em></strong>
In the example above,
1 $\mapsto$ <code>Alice</code> and 9 $\mapsto$ <code>Dan</code> are assigned to the same slot, because</p>
<p>$$
h(1) = h(9) = 1
$$</p>
</blockquote>
<p>Collisions are often unavoidable (this is a consequence of what is sometimes called the <a href="https://en.wikipedia.org/wiki/Birthday_problem">birthday paradox</a>).</p>
<blockquote class="book-hint info">
<p><strong><em>Example.</em></strong>
Let us assume that our hashing function $h$ partitions $K$ evenly across slots (like the function $h(x) = x \mod 4$ used above).</p>
<ul>
<li>
<p>If $A$ has $16$ slots (which is the default size of a hash table in Java), then
the probability of a collision is $\ge 0.5$ for $5$ entries already</p>
</li>
<li>
<p>If $A$ has $1000$ slots, then
the probability of a collision is $\ge 0.5$ for $38$ entries already, and $\ge 0.9$ for $69$ entries already.</p>
</li>
</ul>
</blockquote>
<h2 id="performance">
  Performance
  <a class="anchor" href="#performance">#</a>
</h2>
<blockquote class="book-hint warning">
<p><strong><em>Reminder.</em></strong>
An associative array exposes (at least) the following methods:</p>
<ul>
<li><strong>lookup</strong> (or <strong>get</strong>) takes a key as input, and returns the value for this key (if any).</li>
<li><strong>insert</strong> (or <strong>put</strong> ) inserts a pair <em>(key, value)</em>. If an entry for this key was already present, then overwrites its value.</li>
<li><strong>remove</strong> (or <strong>delete</strong>) deletes the entry for a given key (if any).</li>
</ul>
</blockquote>
<h3 id="worst-case">
  Worst case
  <a class="anchor" href="#worst-case">#</a>
</h3>
<p>In a chained hash table, in order to check whether the structure contains an entry for an input key $k$,
we need to:</p>
<ul>
<li>compute $h(k)$</li>
<li>search for an entry with key $k$ in the data structure that $A[h(k)]$ refers to (if any).</li>
</ul>
<div class="book-tabs">
<input type="radio" class="toggle" name="tabs-exercise_hash_wc" id="tabs-exercise_hash_wc-0" checked="checked" />
<label for="tabs-exercise_hash_wc-0">Exercise</label>
<div class="book-tabs-content markdown-inner"><p>Consider a associative array with $n$ entries, stored as a chained hash table with linked lists (as above).</p>
<p>What is the worst case asymptotic running time of the lookup operation?</p>
<p>Instead, what would be the best possible scenario?</p>
</div>
<input type="radio" class="toggle" name="tabs-exercise_hash_wc" id="tabs-exercise_hash_wc-1"  />
<label for="tabs-exercise_hash_wc-1">Solution</label>
<div class="book-tabs-content markdown-inner"><p>A worst possible input (of size $n$) for the lookup operation consists of an input key $k$ and an input hash table $A$ with hash function $h$ such that,
for each pair $k&rsquo; \mapsto v$ stored in $A$:</p>
<ul>
<li>$k&rsquo; \neq k$ and</li>
<li>$h(k&rsquo;) = h(k)$.</li>
</ul>
<p>In this case, any algorithm for lookup would need to inspect the whole list $A[h(k)]$.
So the worst-case running time of such an algorithm is in $\Theta(n)$.</p>
<p>A best possible input consists of an input key $k$ and an input hash table $A$ with hash function $h$ such that $h(k&rsquo;) \neq h(k)$ for each pair $k&rsquo; \mapsto v$ stored in $A$.
A standard algorithm for lookup in this case would have constant running time (expressed as function of $n$).</p>
</div>
</div>
<h3 id="load-factor-and-rehashing">
  Load factor and rehashing
  <a class="anchor" href="#load-factor-and-rehashing">#</a>
</h3>
<blockquote class="book-hint warning">
<p><strong><em>Definition.</em></strong>
Let $n$ be the number of entries in the associative array, and let $m$ be the size of $A$.
The ratio $\alpha = \frac{n}{m}$ is called the <strong>load factor</strong> of the hash table.</p>
</blockquote>
<p>A high load factor increases the chances of collision, thus affecting performance.</p>
<p>When the load factor becomes too high, the hash table is typically <strong>rehashed</strong>, meaning that a larger hash table is created (thus with a <em>different</em> hashing function), in which entries are re-inserted.</p>
<p>From <a href="https://en.wikipedia.org/wiki/Hash_table#Load_factor_for_separate_chaining">Wikipedia</a>, for a chaining hash table, the maximal acceptable load factor is between 1 and 3.</p>
<h3 id="average-running-time">
  Average running time
  <a class="anchor" href="#average-running-time">#</a>
</h3>
<p>A good hash function is usually expected to distribute keys evenly across slots.</p>
<p>In a chaining hash table, this means that all lists should have length close to the load factor $\alpha$.</p>
<p><a href="https://en.wikipedia.org/wiki/Universal_hashing">Universal hashing</a> refers to using not one, but a <em>collection</em> of hash functions that satisfies certain properties, and randomly selecting one of these functions at runtime.</p>
<p>This guarantees that for a fixed set $S \subset K$ of keys with size $n$, and for a fixed $k \in S$, the <em>average</em> length of the slot for $k$ is the load factor $\alpha$.</p>
<p>In other words, the <em>average</em> running time of lookup, insertion and deletion is $\alpha = \frac{n}{m}$.</p>
<p>If we assume that the size $m$ of $A$ is always reasonable for the number $n$ of entries of the associate array,
then $\alpha$ is independent of $n$.
So under this assumption, the <em>average</em> running time of lookup, insertion and deletion is constant (i.e. is in $\Theta(1)$).</p>
<h2 id="open-indexing">
  Open indexing
  <a class="anchor" href="#open-indexing">#</a>
</h2>
<blockquote class="book-hint warning">
<p>In a hash table with <strong>open indexing</strong>, each slot stores at most <em>one</em> entry of the associative array.
In case of collision between two entries, one of them is assigned to a free slot.</p>
</blockquote>
<p>This is achieved via a so-called <strong>probing</strong> function (from indices to indices), which defines an order over indices.
More precisely:</p>
<ul>
<li><strong><em>Insert.</em></strong> When inserting an entry with key $k$, if the slot $A[h(k)]$ is already occupied, then the &ldquo;next&rdquo; free slot is used instead (where &ldquo;next&rdquo; depends on the probing function).</li>
<li><strong><em>Lookup.</em></strong> When searching for the entry with key $k$, the first investigated slot is $A[h(k)]$, then its successor $s$ (according to the probing function), then the successor of $s$, etc.,
until we reach the entry with key $k$ (if present) or an empty slot.</li>
<li><strong><em>Delete.</em></strong> When deleting a entry, the slot that it was occupying cannot be deleted, because the resulting empty slot may break future searches.
Instead, the slot is marked as a so called <strong>tombstone</strong>, which does not interrupt a search, but can still be used for future insertions.</li>
</ul>
<h3 id="performance-1">
  Performance
  <a class="anchor" href="#performance-1">#</a>
</h3>
<p>The (average and worst case) asymptotic costs of these operations are identical to the ones for chained hash tables.</p>
<p>Open addressing can be more efficient in practice than chaining, because it is more likely to benefit from caching (since the whole hash table it an array, it is likely to be contiguous in memory).</p>
<p>A downside is the maximal acceptable load factor, which is (necessarily) $\le 1$ (from <a href="https://en.wikipedia.org/wiki/Hash_table#Load_factor_for_open_addressing">Wikipedia</a> still, between 0.6 and 0.75).</p>
<h2 id="in-java">
  in Java
  <a class="anchor" href="#in-java">#</a>
</h2>
<h3 id="implementation">
  Implementation
  <a class="anchor" href="#implementation">#</a>
</h3>
<p>Java uses chained hash tables internally, with 16 slots by default.</p>
<p>Each slot points to a <a href="https://unibz-pp-24-25.github.io/docs/datastructures/sections/list/#linkedList">linked list</a> by default.</p>
<p>If the maximal acceptable load factor is exceeded, then the hash table is rehashed (as expected).</p>
<p>In addition, Java uses a maximal load threshold for an individual slot.
If this value is exceeded (but the maximal load factor is not), then the linked list for this slot is converted to a <a href="https://unibz-pp-24-25.github.io/docs/datastructures/sections/tree/#selfBalancing">red-black tree</a>.</p>
<h4 id="hashMap">
  Associative array
  <a class="anchor" href="#hashMap">#</a>
</h4>
<p>As we saw in the <a href="https://unibz-pp-24-25.github.io/docs/abstractdatatypes/sections/map/#java">dedicated section</a>, the interface <code>java.util.Map</code> represents an associative array.</p>
<ul>
<li>
<p>The class <code>java.util.HashMap</code> implements the interface as a hash table.</p>
</li>
<li>
<p>The class <code>java.util.LinkedHashMap</code> also implements this interface as a hash table.
However, in addition, each entry contains two pointers to its predecessor and successor (if any) in the order of <em>insertion</em>, thus forming a double linked list, <em>independent</em> of the hash table itself.
This allows <em>iterating</em> over the entries of a map in a predictable order (precisely, their insertion order), which is not possible with a <code>HashMap</code>.</p>
</li>
</ul>
<blockquote class="book-hint danger">
<p><strong><em>Warning.</em></strong>
In a <code>LinkedHashMap</code>, overwriting the value of an entry (with the method <code>Map.put</code>) does <em>not</em> affect the order of insertion.</p>
</blockquote>
<h4 id="hashSet">
  Set
  <a class="anchor" href="#hashSet">#</a>
</h4>
<p>As we saw in the <a href="https://unibz-pp-24-25.github.io/docs/abstractdatatypes/sections/set/#java">dedicated section</a>, the interface <code>java.util.Set</code> represents a set.</p>
<ul>
<li>
<p>The class <code>java.util.Hashset</code> implements this interface as a hash table, where keys are the elements of the set, and an &ldquo;entry&rdquo; consists of a key only (i.e. has no value).</p>
</li>
<li>
<p>The class <code>java.util.LinkedHashSet</code> also implements this interface as a hash table.
It is analogous to <code>LinkedHashMap</code>, i.e. it guarantees that iteration preserves the order of <em>insertion</em>.</p>
</li>
</ul>
<h3 id="hashCode">
  <code>hashCode</code>
  <a class="anchor" href="#hashCode">#</a>
</h3>
<blockquote class="book-hint warning">
<p>In Java, the keys of a <code>Map</code> and the entries of a <code>Set</code> are <em>objects</em>.</p>
<p>So a Java hash function must map an <em>object</em> to a hash table slot.
Technically, this function is the composition of:</p>
<ul>
<li>the function <code>hashCode</code>, which maps an object to an <code>int</code>, and</li>
<li>a proper hash function $h$ that maps this <code>int</code> to a hash table slot.</li>
</ul>
</blockquote>
<p>The function <code>hashCode</code> is an instance method of the class <code>Object</code>, thus it is inherited by default by all objects.
This function behaves like a <a href="https://unibz-pp-24-25.github.io/docs/lambda/sections/pure/">pure function</a>, in the sense that it must return twice the same <code>int</code> if it is called twice for the same object.
This property <em>must be preserved</em> if the method is overridden.</p>
<p>The hash function $h$ is also a function in the mathematical sense.
Therefore the composition of these two functions has this property.
As a consequence, a same key is always mapped to the same slot.</p>
<!---->
<!-- **_Example._** -->
<!-- Consider the following Java program -->
<!---->
<!-- ```java -->
<!-- HashMap<String, Integer> myMap = new HashMap<>(); -->
<!-- myMap.put("Alice", 4); -->
<!-- myMap.put("Alice", 5); -->
<!-- ``` -->
<!---->
<!-- Let $o$ be the object for the string `Alice`. -->
<!---->
<!-- The constructor creates a hash table $A$ with 16 slots. -->
<!---->
<!-- The first call to the method `put` computes the slot index $k = $h$($o$.`hashCode()`) for the object $o$. -->
<!-- Because $A[k]$ is empty, it: -->
<!---->
<!-- - creates a list node $n$ with key $o$ and value `4`, and -->
<!-- - inserts a pointer to $n$ as the value of $A[k]$. -->
<!---->
<!-- The second call to the method `put` computes the same slot index $i = $h$($o$.`hashCode()`), for the same object $o$. -->
<!-- Because $A[k]$ is nonempty, it searches for a node with key $o$ in the list that $A[k]$ points to, finds the node $n$, and replaces the value stored in this node with `4`. -->
<h4 id="hashcode-and-equals">
  <code>hashCode</code> and <code>equals</code>
  <a class="anchor" href="#hashcode-and-equals">#</a>
</h4>
<blockquote class="book-hint danger">
<p><strong><em>Warning.</em></strong>
In a Java hash table, two keys $o_1$ and $o_2$ are considered equal iff</p>
<p>$\qquad o_1$.<code>equals</code>($o_2$)</p>
<p>returns <code>true</code>.</p>
</blockquote>
<div class="book-tabs">
<input type="radio" class="toggle" name="tabs-exercise_hashCode" id="tabs-exercise_hashCode-0" checked="checked" />
<label for="tabs-exercise_hashCode-0">Exercise</label>
<div class="book-tabs-content markdown-inner"><p>Consider the following Java class <code>City</code>, which overrides the method <a href="https://unibz-pp-24-25.github.io/docs/objects/sections/comparing/#equals">equals</a>, so that two cities are considered equal iff they have the same name and zip code.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">City</span>(){
</span></span><span style="display:flex;"><span>    String name;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> zipCode;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">City</span>(String name, <span style="color:#66d9ef">int</span> zipCode){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">zipCode</span> <span style="color:#f92672">=</span> zipCode;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">equals</span>(Object o) {
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span> <span style="color:#f92672">==</span> o) { <span style="color:#75715e">// same reference</span>
</span></span><span style="display:flex;"><span>           <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>       }
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">if</span> (o <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">||</span> getClass() <span style="color:#f92672">!=</span> o.<span style="color:#a6e22e">getClass</span>())
</span></span><span style="display:flex;"><span>           <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>; <span style="color:#75715e">// o is null or has a different type</span>
</span></span><span style="display:flex;"><span>       }
</span></span><span style="display:flex;"><span>       City downcastObject <span style="color:#f92672">=</span> (City) o;
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">return</span> zipCode <span style="color:#f92672">==</span> downcastObject.<span style="color:#a6e22e">zipCode</span> <span style="color:#f92672">&amp;&amp;</span>
</span></span><span style="display:flex;"><span>           name.<span style="color:#a6e22e">equals</span>(downcastObject.<span style="color:#a6e22e">name</span>);
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>Can we predict the output of the following program (and if so, what is it)?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>City bologna <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> City(<span style="color:#e6db74">&#34;Bologna&#34;</span>, 40100);
</span></span><span style="display:flex;"><span>City bolognaAgain <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> City(<span style="color:#e6db74">&#34;Bologna&#34;</span>, 40100);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Set<span style="color:#f92672">&lt;</span>City<span style="color:#f92672">&gt;</span> cities <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashSet();
</span></span><span style="display:flex;"><span>cities.<span style="color:#a6e22e">add</span>(bologna);
</span></span><span style="display:flex;"><span>cities.<span style="color:#a6e22e">add</span>(bolognaAgain);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(cities.<span style="color:#a6e22e">size</span>());
</span></span></code></pre></div></div>
<input type="radio" class="toggle" name="tabs-exercise_hashCode" id="tabs-exercise_hashCode-1"  />
<label for="tabs-exercise_hashCode-1">Solution</label>
<div class="book-tabs-content markdown-inner"><p>The output is unpredictable.</p>
<p>Observe that the variables
<code>bologna</code> and
<code>bolognaAgain</code> point to two different objects $o_1$ and $o_2$.</p>
<p>In the hash table that stores the set <code>cities</code>:</p>
<ul>
<li>the slot associated to $o_1$ is $i_1 = h$($o_1$.<code>hashCode()</code>),</li>
<li>the slot associated to $o_2$ is $i_2 = h$($o_2$.<code>hashCode()</code>).</li>
</ul>
<p>Since $o_1$ and $o_2$ are different objects, $i_1$ and $i_2$ <em>may of may not</em> be identical.</p>
<p>The instruction <code>cities.add(bologna)</code> adds a node with key $o_1$ to $A[i_1]$.
The instruction <code>cities.add(bolognaAgain)</code> adds a node with key $o_2$ to $A[i_2]$.</p>
<p>Then the instruction <code>cities.size()</code> returns the number of entries in the hash table.</p>
<ul>
<li>
<p>If $i_1 = i_2$ (i.e. if we have a collision),
then the method <code>put</code> will not insert $o2$ in the hash table (since $o_1$<code>.equals(</code>$o_2$<code>)</code> evaluates to true).
Therefore the method <code>cities.size()</code> will return <code>1</code>,</p>
</li>
<li>
<p>If $i_1 \neq i_2$,
then the method <code>put</code> will insert $o2$ in the hash table (at slot $i_2$).
Therefore the method <code>cities.size()</code> will return <code>2</code>.</p>
</li>
</ul>
</div>
</div>
<blockquote class="book-hint danger">
<p><strong><em>Warning.</em></strong>
As show with this exercise, if a class overrides <code>equals</code> without overriding <code>hashCode</code>,
then the behavior of the basic operations on hash tables (insertion, lookup and deletion) may depend on <a href="#collision">collisions</a>.</p>
</blockquote>
<p>This makes the behavior of several methods implemented by <code>HashMap</code>, <code>LinkedHashMap</code>, <code>HashSet</code> and <code>LinkedHashSet</code> (among others) unpredictable.</p>
<p>To avoid this, whenever <code>equals</code> is overridden, <code>hashCode</code> should be overridden accordingly.</p>
<blockquote class="book-hint warning">
<p><strong><em>Requirement.</em></strong>
For two Java objects $o_1$ and $o_2$,</p>
<p>$\qquad$ if $o_1$.<code>equals</code>($o_2$),
then <code>hashCode</code>($o_1$) = <code>hashCode</code>($o_2$).</p>
</blockquote>
<!--In particular, if the equality of two instances is determined by equality of some class attributes, then `hashCode` should be a function (in the mathematical sense) of these attribute.-->
<!--Semantically, _any_ function that produces an `int` out of these attributes is correct.-->
<blockquote class="book-hint info">
<p><strong><em>Example(continued).</em></strong>
<code>hashCode</code> could be implemented as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">City</span>(){
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hashCode</span>(){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> name.<span style="color:#a6e22e">length</span> <span style="color:#f92672">+</span> zipCode;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></blockquote>
<p>In the example above,
<em>any</em> (pure) function that produces an <code>int</code> out of the values of <code>name</code> and <code>zipCode</code> could in theory be used to implement <code>hashCode</code> in the class <code>City</code>.</p>
<p>However, the choice of this function may affect performance.</p>
<blockquote class="book-hint info">
<p><strong><em>Example(continued).</em></strong>
The following implementation of <code>hashCode</code> also complies with the implementation of <code>equals</code> above.
However, it has the effect of mapping all keys with type <code>City</code> to the same hash table slot.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">City</span>(){
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hashCode</span>(){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> 1;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></blockquote>
<p>This is why a common practice consists in implementing <code>hashCode</code> in terms of the method <code>hashCode</code> of the selected attributes (and implement the method <code>hashCode</code> of these attributes similarly, in a recursive fashion).</p>
<blockquote class="book-hint info">
<p><strong><em>Note.</em></strong>
Most native Java classes (like <code>String</code>, <code>Integer</code>, <code>Boolean</code>, <code>ArrayList</code>, <code>HasSet</code>, etc.) already implement <code>hashCode</code> (in accordance with <code>equals</code>).</p>
</blockquote>
<p>The utility method <code>Objects.hash</code> takes any number of arguments, and wraps the ones that have primitive types (e.g. <code>int</code> into <code>Integer</code>).
It returns an <code>int</code> whose value is a function of the outputs of the respective <code>hashCode</code> methods of the arguments.</p>
<blockquote class="book-hint info">
<p><strong><em>Example(continued).</em></strong>
In our example, we can implement <code>hashCode</code> as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">City</span>(){
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hashCode</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> Objects.<span style="color:#a6e22e">hash</span>(name, zipCode);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The returned value depends on the values of <code>name.hashCode()</code> and
<code>Integer.valueOf(zipCode).hashCode()</code>.</p>
</blockquote>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#associative-array">Associative array</a></li>
    <li><a href="#structure">Structure</a>
      <ul>
        <li><a href="#hash-function">Hash function</a></li>
      </ul>
    </li>
    <li><a href="#collision">Collision</a></li>
    <li><a href="#performance">Performance</a>
      <ul>
        <li><a href="#worst-case">Worst case</a></li>
        <li><a href="#load-factor-and-rehashing">Load factor and rehashing</a></li>
        <li><a href="#average-running-time">Average running time</a></li>
      </ul>
    </li>
    <li><a href="#open-indexing">Open indexing</a>
      <ul>
        <li><a href="#performance-1">Performance</a></li>
      </ul>
    </li>
    <li><a href="#in-java">in Java</a>
      <ul>
        <li><a href="#implementation">Implementation</a></li>
        <li><a href="#hashCode"><code>hashCode</code></a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












